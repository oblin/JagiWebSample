<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            @Html.ActionLink("Application name", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="@if (ViewBag.Name == "Codes")
                    {<text>active</text>}"><a href="@Url.Action("Index", "Codes")">代碼維護</a></li>
                <li class="@if (ViewBag.Name == "User")
                    {<text>active</text>}"><a href="@Url.Action("Index", "User")">使用者帳號維護</a></li>
            </ul>
            <ul class="nav navbar-nav pull-right">
                <li class="dropdown @if (ViewBag.Name == "Login") {<text>active</text>}">
                    @if (!Request.IsAuthenticated)
                    {
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Not Logged In <b class="caret"></b></a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <li><a href="@Url.Action("Login", "Account")">Login</a></li>
                            <li><a href="@Url.Action("Register", "Account")">Register</a></li>
                            <li class="divider"></li>
                            <li><a href="@Url.Action("ForgotPassword", "Account")">Forgot Password</a></li>
                        </ul>
                    }
                    else
                    {
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">@User.Identity.Name <b class="caret"></b></a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <li><a href="@Url.Action("MyAccount", "Customer")">My Account</a></li>
                            <li class="divider"></li>
                            <li><a href="@Url.Action("ChangePassword", "Account")">Change Password</a></li>
                            <li><a href="@Url.Action("Logout", "Account")">Log Out</a></li>
                        </ul>
                    }
                </li>
                @if (Request.IsAuthenticated)
                {
                    <li class="@if (ViewBag.Name == "CustomerActions")
                        {<text>active</text>}">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Customer Actions <b class="caret"></b></a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <li><a href="@Url.Action("ReserveCar", "Customer")">Reserve a Car</a></li>
                            <li><a href="@Url.Action("CurrentReservations", "Customer")">Current Reservations</a></li>
                            <li><a href="@Url.Action("RentalHistory", "Customer")">My Rental History</a></li>
                        </ul>
                    </li>
                }
            </ul>
        </div>
    </div>
</div>

